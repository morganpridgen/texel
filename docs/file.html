<!doctype html>
<html>
  <head>
    <title>
      Texel Documentation - Files
    </title>
  </head>
  <body>
    <h2>Texel Documentation - Files</h2><br />
    
    <h3>Functions</h3>
    <p id="TXL_InitPaths">
      <h3><code>void TXL_InitPaths(const char *saveName)</code></h3>
      
      Prepares the paths used by <code>TXL_DataPath</code> and <code>TXL_SavePath</code>. Argument is the name of the save folder.<br />
      The data path will be initialized to the <code>res</code> directory in the same directory as the executable of the application.<br />
      On Windows, the save data directory will be found in <code>%appdata%</code>.<br />
      For Linux systems, if the environment variable <code>XDG_DATA_HOME</code> is defined, the save data directory wil be located there. If the variable does not exist, the save data directory will be found in <code>$HOME/.local/share</code><br />
      
      <code style="white-space: pre-wrap">
TXL_InitPaths("example_app");
      </code>
    </p>
    
    <p id="TXL_DataPath">
      <h3><code>char* TXL_DataPath(const char *file)</code></h3>
      
      Adds the argument to the data path generated by <code>TXL_InitPaths</code>. The return value is a pointer to a static variable and should not be freed.<br />
      
      <code style="white-space: pre-wrap">
TXL_File file;
file.init(TXL_DataPath("data.txt"), "r");
      </code>
    </p>
    
    <p id="TXL_DataPath">
      <h3><code>char* TXL_SavePath(const char *file)</code></h3>
      
      Adds the argument to the save path generated by <code>TXL_InitPaths</code>. The return value is a pointer to a static variable and should not be freed.<br />
      
      <code style="white-space: pre-wrap">
TXL_File file;
file.init(TXL_SavePath("highscore.txt"), "w");
      </code>
    </p>
    
    <h3>Class</h3>
    <p id="TXL_File">
      <h3><code>TXL_File</code></h3>
      
      Class for handling file access.
      
      <p id="TXL_File::init">
        <h3><code>bool TXL_File::init(const char *path, const char *mode)</code></h3>
        
        Opens <code>path</code>. The second argument is the mode string, which is formatted the same way as the standard C <code>fopen</code> mode string except the binary mode is set by default.<br />
        Returns 0 on error, 1 otherwise.
        
        <code style="white-space: pre-wrap">
TXL_File file;
file.init(TXL_DataPath("data.txt"), "r");
        </code>
      </p>
      
      <p id="TXL_File::read">
        <h3><code>bool TXL_File::read(void *data, const int len)</code></h3>
        
        Reads <code>len</code> bytes into <code>data</code>. If <code>len</code> is not given, it is assumed to be <code>sizeof(data)</code>.<br />
        Returns 1 if reading was successful, 0 otherwise.
        
        <code style="white-space: pre-wrap">
TXL_File file;
file.init(TXL_SavePath("highscore.txt"), "r");
int highScore = -1;
if (!file.read(&highScore)) return -1;
file.close();
return highScore;
        </code>
      </p>
      
      <p id="TXL_File::write">
        <h3><code>bool TXL_File::write(void *data, const int len)</code></h3>
        
        Writes <code>len</code> bytes into <code>data</code>. If <code>len</code> is not given, it is assumed to be <code>sizeof(data)</code>.<br />
        Returns 1 if writing was successful, 0 otherwise.
        
        <code style="white-space: pre-wrap">
int highScore;
// other code
TXL_File file;
file.init(TXL_SavePath("highscore.txt"), "w");
if (!file.write(&highScore)) return 0;
file.close();
        </code>
      </p>
      
      <p id="TXL_File::close">
        <h3><code>void TXL_File::close()</code></h3>
        
        Closes the file.
        
        <code style="white-space: pre-wrap">
TXL_File file;
file.init(TXL_DataPath("data.txt"), "r");
// other code
file.close();
        </code>
      </p>
    </p>
    
    <a href="index.html">Go back</a><br />
  </body>
</html>